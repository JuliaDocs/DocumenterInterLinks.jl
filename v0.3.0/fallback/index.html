<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Fallback Resolution · DocumenterInterLinks.jl</title><meta name="title" content="Fallback Resolution · DocumenterInterLinks.jl"/><meta property="og:title" content="Fallback Resolution · DocumenterInterLinks.jl"/><meta property="twitter:title" content="Fallback Resolution · DocumenterInterLinks.jl"/><meta name="description" content="Documentation for DocumenterInterLinks.jl."/><meta property="og:description" content="Documentation for DocumenterInterLinks.jl."/><meta property="twitter:description" content="Documentation for DocumenterInterLinks.jl."/><meta property="og:url" content="https://juliadocs.org/DocumenterInterLinks.jl/fallback/"/><meta property="twitter:url" content="https://juliadocs.org/DocumenterInterLinks.jl/fallback/"/><link rel="canonical" href="https://juliadocs.org/DocumenterInterLinks.jl/fallback/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DocumenterInterLinks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../syntax/">Syntax</a></li><li class="is-active"><a class="tocitem" href>Fallback Resolution</a></li><li><a class="tocitem" href="../write_inventory/">Inventory Generation</a></li><li><a class="tocitem" href="../sphinx/">Compatibility with Sphinx</a></li><li><a class="tocitem" href="../howtos/">How-Tos</a></li><li><a class="tocitem" href="../api/internals/">Internals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Fallback Resolution</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Fallback Resolution</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDocs/DocumenterInterLinks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDocs/DocumenterInterLinks.jl/blob/master/docs/src/fallback.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Fallback-Resolution"><a class="docs-heading-anchor" href="#Fallback-Resolution">Fallback Resolution</a><a id="Fallback-Resolution-1"></a><a class="docs-heading-anchor-permalink" href="#Fallback-Resolution" title="Permalink"></a></h1><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The <a href="../api/internals/#DocumenterInterLinks.ExternalFallbacks"><code>ExternalFallbacks</code></a> plugin described here is available only with <code>Documenter &gt;= v1.3.0</code> and should be considered experimental.</p></div></div><p>In some situations, you may need to include a docstring from an external package in your documentation – for example, you you are extending a function from that package, you may want to show the function docstring. If that docstrings contains an <code>@ref</code> link, you have a problem: that link is resolvable in the external documentation, but not in <em>your</em> documentation.</p><p>If the <code>@ref</code> link is to another code object, you could include that docstring in your documentation as well, and so forth, until all references can be resolved. Unfortunately, you might end up having to include a significant portion of the external package&#39;s documentation, which is less than ideal.</p><p>The situation is even worse if the <code>@ref</code> link is to a section header. For example, the docstring of <a href="https://juliadocs.org/DocInventories.jl/stable/api/#DocInventories.MIME_TYPES"><code>DocInventories.MIME_TYPES</code></a> includes a reference to the section on <a href="https://juliadocs.org/DocInventories.jl/stable/formats/#Inventory-File-Formats">inventory file formats</a> in the <code>DocInventories</code> documentation. In that case, there is no way to make the reference resolve in your documentation (short of adding an &quot;Inventory File Formats&quot; section to your own documentation).</p><p>To remedy this, the <code>DocumenterInterLinks</code> package provides a special plugin, <a href="../api/internals/#DocumenterInterLinks.ExternalFallbacks"><code>ExternalFallbacks</code></a>, that can rewrite specific <code>@ref</code> links to <code>@extref</code> links. It is instantiated by providing a mapping between &quot;slugs&quot; and <code>@extref</code> link specifications. For example,</p><pre><code class="nohighlight hljs">fallbacks = ExternalFallbacks(
    &quot;Inventory-File-Formats&quot; =&gt; &quot;@extref DocInventories `Inventory-File-Formats`&quot;,
)</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Like any plugin, <code>fallbacks</code> must be passed to <a href="https://documenter.juliadocs.org/stable/lib/public/#Documenter.makedocs"><code>Documenter.makedocs</code></a> as an element of <code>plugins</code>.</p></div></div><p>The &quot;slug&quot; on the left-hand-side of the mapping can be obtained from message that <code>Documenter</code> prints when it fails to resolve the <code>@ref</code> link. Generally, for <code>[Section Title](@ref)</code> or <code>[text](@ref &quot;Section Title)</code>, the slug is a &quot;sluggified&quot; version of the title (determined internally by <code>Documenter</code>, mostly just replacing spaces with dashes); and for <code>[`code`](@ref)</code> or <code>[text](@ref code)</code>, it is <code>&quot;code&quot;</code>. The right-hand-side of the mapping is a full <code>@extref</code> link. The plugin simply replaces the link target of original <code>@ref</code> link with the given <code>@extref</code>.</p><p>If there are any unresolvable <code>@ref</code> links, and there is no explicit <code>@extref</code>-mapping, <a href="../api/internals/#DocumenterInterLinks.ExternalFallbacks"><code>ExternalFallbacks</code></a> will search in all available inventories to resolve the link in an &quot;automatic&quot; mode. In this case, you will see messages like</p><pre><code class="nohighlight hljs">[ Info: ExternalFallbacks automatic resolution of &quot;Inventory-File-Formats&quot; =&gt; &quot;@extref DocInventories :std:label:`Inventory-File-Formats`&quot;</code></pre><p>in the output of <a href="https://documenter.juliadocs.org/stable/lib/public/#Documenter.makedocs"><code>Documenter.makedocs</code></a>. If this is correct, you should copy <code>&quot;Inventory-File-Formats&quot; =&gt; &quot;@extref DocInventories :std:label:`Inventory-File-Formats`&quot;</code> explicitly into the instantiation of the <a href="../api/internals/#DocumenterInterLinks.ExternalFallbacks"><code>ExternalFallbacks</code></a> plugin. The &quot;automatic resolution&quot; is both slow and has the potential for misidentifying the <code>@extref</code> link.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Do not use <code>@ref</code> links in your documentation for known <code>@extref</code> targets! The <a href="../api/internals/#DocumenterInterLinks.ExternalFallbacks"><code>ExternalFallbacks</code></a> plugin is intended as a &quot;last resort&quot;, to be used deliberately, not to automatically resolve all <code>@ref</code> links via <a href="../api/internals/#DocumenterInterLinks.InterLinks"><code>InterLinks</code></a>.</p></div></div><p>With an <code>@extref</code> mapping for <code>&quot;Inventory-File-Formats&quot;</code> in place, it is now possible to include the docstring for <a href="https://juliadocs.org/DocInventories.jl/stable/api/#DocInventories.MIME_TYPES"><code>DocInventories.MIME_TYPES</code></a>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocInventories.MIME_TYPES" href="#DocInventories.MIME_TYPES"><code>DocInventories.MIME_TYPES</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Default map of file extensions to MIME types.</p><pre><code class="language-julia hljs">MIME_TYPES = Dict(
    &quot;.txt&quot; =&gt; MIME(&quot;text/x-intersphinx&quot;),
    &quot;.inv&quot; =&gt; MIME(&quot;application/x-intersphinx&quot;),
    &quot;.toml&quot; =&gt; MIME(&quot;application/toml&quot;),
    &quot;.txt.gz&quot; =&gt; MIME(&quot;text/x-intersphinx+gzip&quot;),
    &quot;.toml.gz&quot; =&gt; MIME(&quot;application/toml+gzip&quot;),
)</code></pre><p>See <a href="https://juliadocs.org/DocInventories.jl/stable/formats/#Inventory-File-Formats">Inventory File Formats</a> for details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocInventories.jl/blob/693849485ba2dcc9463432cd0f0e8889ffa9d2f1/src/mimetypes.jl#L4-L18">source</a></section></article><p>Note that the link in the last line of the docstring is an external link.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../syntax/">« Syntax</a><a class="docs-footer-nextpage" href="../write_inventory/">Inventory Generation »</a><div class="flexbox-break"></div><p class="footer-message"><a href="https://github.com/JuliaDocs/DocumenterInterLinks.jl">DocumenterInterLinks.jl</a> v0.3.0 docs powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Sunday 3 March 2024 00:20">Sunday 3 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
